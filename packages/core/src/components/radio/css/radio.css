@import url('../../../global/css/reset.css');

:host {
  --transition: var(--transition-default);
  display: inline-flex;
  position: relative;
  max-width: 100%;

  .br-radio-wrapper {
    display: inline-flex;
    align-items: center;
  }

  .br-radio-content {
    display: inline-flex;
    flex-direction: row;
    align-items: center;
  }

  .br-radio-control {
    display: flex;
    align-items: center;
    justify-content: space-around;
    transition: var(--transition);

    input[type='radio'] {
      width: 100%;
      height: 100%;
      padding: 0;
      border: 0;
      margin: 0;
      appearance: none;
    }
  }

  br-icon {
    position: absolute;
    pointer-events: none;
    --svg-icon-size: var(--radio-icon-size);
  }

  ::slotted(br-icon[slot='checked-icon']:not([size])) {
    --svg-icon-size: var(--radio-icon-size);
  }

  ::slotted(br-icon[slot='unchecked-icon']:not([size])) {
    --svg-icon-size: var(--radio-icon-size);
  }

  ::slotted(br-icon[slot='checked-icon']) {
    position: absolute;
    pointer-events: none;
  }

  ::slotted(br-icon[slot='unchecked-icon']) {
    position: absolute;
    pointer-events: none;
  }
}

:host([checked]:not([checked='false'])) {
  slot[name='checked-icon'] {
    br-icon {
      display: block;
    }
  }

  ::slotted(br-icon[slot='unchecked-icon']) {
    display: none;
  }

  ::slotted(br-icon[slot='checked-icon']) {
    display: block;
  }
}

:host(:not([checked]:not([checked='false']))) {
  slot[name='checked-icon'] {
    br-icon {
      display: none;
    }
  }

  ::slotted(br-icon[slot='checked-icon']) {
    display: none;
  }

  ::slotted(br-icon[slot='unchecked-icon']) {
    display: block;
  }
}

:host(:hover) {
  cursor: var(--cursor-pointer);

  input[type='radio'] {
    cursor: var(--cursor-pointer);
  }
}

:host {
  input[type='radio'][disabled] {
    cursor: var(--cursor-not-allowed);
  }
}

:host {
  font-family: var(--typography-body-family);
  --radio-font-weight: 400;

  br-input-error-display {
    --error-display-icon-size: var(--radio-icon-size);
    --error-display-font-size: var(--radio-font-size);
    --error-display-icon-margin: var(--radio-icon-margin);
  }

  br-input-error-display[type='tooltip'],
  br-button.br-clear-value-button {
    margin-left: var(--radio-icon-margin);
  }

  br-input-error-display[type='inline'] {
    margin-top: var(--radio-icon-margin);
  }

  ::slotted(*:not([slot])) {
    margin-left: calc(var(--radio-icon-margin) * 2);
  }

  .br-radio-content {
    font-size: var(--radio-font-size);
    font-weight: var(--radio-font-weight);
    line-height: var(--radio-line-height);

    ::slotted(*:not([slot])) {
      font-size: var(--switch-font-size);
      font-weight: var(--switch-font-weight);
      line-height: var(--switch-line-height);
    }

    ::slotted(br-field-label) {
      --field-label-font-size: var(--switch-font-size);
      --field-label-font-weight: var(--switch-font-weight);
      --field-label-line-height: var(--switch-line-height);
    }
  }

  .br-radio-control {
    width: var(--radio-size);
    height: var(--radio-size);
    border-radius: var(--radio-border-radius);
  }

  input {
    width: var(--radio-size);
    height: var(--radio-size);
    border-radius: var(--radio-border-radius);
  }
}

:host([size='Xsmall']) {
  --radio-font-size: var(--actionable-element-font-size-x-small);
  --radio-line-height: var(--actionable-element-xsmall-line-height);
  --radio-icon-size: var(--actionable-element-icon-size-x-small);
  --radio-size: var(--actionable-element-icon-size-x-small);
  --radio-icon-margin: var(--actionable-element-icon-margin-x-small);
  --radio-border-radius: var(--actionable-element-icon-size-x-small);
}

:host([size='Small']) {
  --radio-font-size: var(--actionable-element-font-size-small);
  --radio-line-height: var(--actionable-element-small-line-height);
  --radio-icon-size: var(--actionable-element-icon-size-small);
  --radio-size: var(--actionable-element-icon-size-small);
  --radio-icon-margin: var(--actionable-element-icon-margin-small);
  --radio-border-radius: var(--actionable-element-icon-size-small);
}

:host([size='Normal']) {
  --radio-font-size: var(--actionable-element-font-size-normal);
  --radio-line-height: var(--actionable-element-normal-line-height);
  --radio-icon-size: var(--actionable-element-icon-size-normal);
  --radio-size: var(--actionable-element-icon-size-normal);
  --radio-icon-margin: var(--actionable-element-icon-margin-normal);
  --radio-border-radius: var(--actionable-element-icon-size-normal);
}

:host([size='Large']) {
  --radio-font-size: var(--actionable-element-font-size-large);
  --radio-line-height: var(--actionable-element-large-line-height);
  --radio-icon-size: var(--actionable-element-icon-size-large);
  --radio-size: var(--actionable-element-icon-size-large);
  --radio-icon-margin: var(--actionable-element-icon-margin-large);
  --radio-border-radius: var(--actionable-element-icon-size-large);
}

:host {
  .br-radio-control {
    input {
      outline-offset: var(--radio-outline-offset);
      outline: var(--radio-outline);
      background-color: color-mix(
        in srgb,
        var(--radio-background-color) var(--radio-background-color-opacity),
        transparent
      );
      background-image: var(--radio-background-image);
      opacity: var(--radio-opacity);
      box-shadow: var(--radio-box-shadow);
    }
  }
}

:host([theme='Light']) {
  slot[name='checked-icon'] {
    br-icon {
      --icon-color-1: var(--template-text-color-over-solid-primary);
      --icon-color-1-opacity: 100%;
      --icon-color-2: var(--template-text-color-over-solid-primary);
      --icon-color-2-opacity: 75%;
    }
  }

  ::slotted(br-icon[slot='checked-icon']:not([color])) {
    --icon-color-1: var(--template-text-color-over-solid-primary);
    --icon-color-1-opacity: 100%;
    --icon-color-2: var(--template-text-color-over-solid-primary);
    --icon-color-2-opacity: 75%;
  }

  ::slotted(br-icon[slot='unchecked-icon']:not([color])) {
    --icon-color-1: var(--template-text-color-over-solid-primary);
    --icon-color-1-opacity: 100%;
    --icon-color-2: var(--template-text-color-over-solid-primary);
    --icon-color-2-opacity: 75%;
  }
}

:host {
  --radio-box-shadow-y-offset-unit: calc(
    var(--template-light-position-occlusion-y) * var(--template-light-position-y-direction)
  );

  --radio-box-shadow-inset-blur-negated-light: inset 0px
    calc(var(--radio-box-shadow-y-offset-unit) * 2) calc(var(--template-shadow-blur) * 4) 0px
    color-mix(in srgb, var(--color-neutral-900) 0%, transparent);
  --radio-box-shadow-checked-base-light: 0px var(--radio-box-shadow-y-offset-unit)
    calc(var(--template-shadow-blur) * 2) 0px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(15% * var(--template-light-strength)),
      transparent
    );
  --radio-box-shadow-checked-base-negated-light: 0px var(--radio-box-shadow-y-offset-unit)
    calc(var(--template-shadow-blur) * 2) 0px
    color-mix(in srgb, var(--color-neutral-900) 0%, transparent);
  --radio-box-shadow-checked-base-blur-rest-light: 0px
    calc(var(--radio-box-shadow-y-offset-unit) * 2) calc(var(--template-shadow-blur) * 4) 0px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(15% * var(--template-light-strength)),
      transparent
    );
  --radio-box-shadow-checked-base-blur-hover-light: 0px var(--radio-box-shadow-y-offset-unit)
    calc(var(--template-shadow-blur) * 4) 0px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(15% * var(--template-light-strength)),
      transparent
    );
  --radio-box-shadow-checked-base-blur-negated-light: 0px
    calc(var(--radio-box-shadow-y-offset-unit) * 2) calc(var(--template-shadow-blur) * 4) 0px
    color-mix(in srgb, var(--color-neutral-900) 0%, transparent);
  --radio-box-shadow-checked-base-inset-light: inset 0px 0px 0px 1px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(15% * max(var(--template-light-strength), 1)),
      transparent
    );

  --radio-box-shadow-disabled-negated-light: inset 0px 0px 0px 0px
    color-mix(in srgb, var(--color-primary-500) 0%, transparent);

  --radio-box-shadow-unchecked-base-inset-light: inset 0px 0px 0px 1px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(15% * max(var(--template-light-strength), 1)),
      transparent
    );
  --radio-box-shadow-unchecked-base-inset-hover-light: inset 0px 0px 0px 1px
    color-mix(
      in srgb,
      var(--color-primary-500) calc(50% * max(var(--template-light-strength), 1)),
      transparent
    );
  --radio-box-shadow-unchecked-base-inset-focus-light: inset 0px 0px 0px 2px
    color-mix(in srgb, var(--color-primary-500) 100%, transparent);
  --radio-box-shadow-unchecked-base-inset-error-light: inset 0px 0px 0px 2px
    color-mix(in srgb, var(--color-destructive-500) 100%, transparent);
  --radio-box-shadow-unchecked-base-inset-blur-light: inset 0px
    calc(var(--radio-box-shadow-y-offset-unit) * 2) calc(var(--template-shadow-blur) * 4) 0px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(10% * var(--template-light-strength)),
      transparent
    );

  --radio-box-shadow-checked-base-dark: 0px var(--radio-box-shadow-y-offset-unit)
    calc(var(--template-shadow-blur) * 2) 0px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(50% * var(--template-light-strength)),
      transparent
    );
  --radio-box-shadow-checked-base-negated-dark: 0px var(--radio-box-shadow-y-offset-unit)
    calc(var(--template-shadow-blur) * 2) 0px
    color-mix(in srgb, var(--color-neutral-900) 0%, transparent);
  --radio-box-shadow-checked-base-blur-rest-dark: 0px
    calc(var(--radio-box-shadow-y-offset-unit) * 2) calc(var(--template-shadow-blur) * 4) 0px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(50% * var(--template-light-strength)),
      transparent
    );
  --radio-box-shadow-checked-base-blur-negated-dark: 0px
    calc(var(--radio-box-shadow-y-offset-unit) * 2) calc(var(--template-shadow-blur) * 4) 0px
    color-mix(in srgb, var(--color-neutral-900) 0%, transparent);
  --radio-box-shadow-checked-base-outer-dark: 0px 0px 0px 1px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(75% * max(var(--template-light-strength), 1)),
      transparent
    );
  --radio-box-shadow-checked-base-outer-offset-negated-dark: 0px
    var(--radio-box-shadow-y-offset-unit) 0px 0px
    color-mix(in srgb, var(--color-neutral-900) 0%, transparent);
  --radio-box-shadow-checked-base-outer-offset-dark: 0px var(--radio-box-shadow-y-offset-unit) 0px
    0px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(45% * var(--template-light-strength)),
      transparent
    );

  --radio-box-shadow-unchecked-base-inset-dark: inset 0px 0px 0px 1px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(75% * max(var(--template-light-strength), 1)),
      transparent
    );
  --radio-box-shadow-unchecked-base-inset-blur-dark: inset 0px
    calc(var(--radio-box-shadow-y-offset-unit) * 2) calc(var(--template-shadow-blur) * 4) 0px
    color-mix(
      in srgb,
      var(--color-neutral-900) calc(50% * var(--template-light-strength)),
      transparent
    );
  --radio-box-shadow-unchecked-base-hover-inset-dark: inset 0px 0px 0px 1px
    color-mix(
      in srgb,
      var(--color-primary-400) calc(75% * max(var(--template-light-strength), 1)),
      transparent
    );
  --radio-box-shadow-unchecked-base-focus-inset-dark: inset 0px 0px 0px 2px
    color-mix(in srgb, var(--color-primary-400) 100%, transparent);
  --radio-box-shadow-unchecked-base-error-dark: inset 0px 0px 0px 2px
    color-mix(in srgb, var(--color-primary-400) 100%, transparent);
}

:host([theme='Light']) {
  .br-radio-wrapper.br-radio-disabled .br-radio-content {
    .br-radio-control input {
      --radio-background-color: var(--color-black);
      --radio-background-color-opacity: 10%;
      --radio-box-shadow: var(--radio-box-shadow-disabled-negated-light),
        var(--radio-box-shadow-inset-blur-negated-light);
    }

    slot[name='checked-icon'] {
      br-icon {
        --icon-color-1: var(--color-black);
        --icon-color-1-opacity: 50%;
        --icon-color-2: var(--color-black);
        --icon-color-2-opacity: 37.5%;
      }
    }

    ::slotted(br-icon[slot='unchecked-icon']:not([color])) {
      --icon-color-1: var(--color-black);
      --icon-color-1-opacity: 50%;
      --icon-color-2: var(--color-black);
      --icon-color-2-opacity: 37.5%;
    }

    ::slotted(br-icon[slot='checked-icon']:not([color])) {
      --icon-color-1: var(--color-black);
      --icon-color-1-opacity: 50%;
      --icon-color-2: var(--color-black);
      --icon-color-2-opacity: 37.5%;
    }
  }
}

:host([theme='Light'][checked]:not([checked='false'])) {
  .br-radio-control {
    --radio-background-image: linear-gradient(
      0deg,
      color-mix(in srgb, var(--color-white) 0%, transparent) 0%,
      color-mix(in srgb, var(--color-white) calc(10% * var(--template-gloss-strength)), transparent)
        100%
    );
    --radio-background-color: var(--color-primary-500);
    --radio-background-color-opacity: 100%;
    --radio-box-shadow: var(--radio-box-shadow-checked-base-light),
      var(--radio-box-shadow-checked-base-blur-rest-light),
      var(--radio-box-shadow-checked-base-inset-light);
  }
}

:host([theme='Light']:not([checked]:not([checked='false']))) {
  .br-radio-control {
    --radio-outline: 0px solid color-mix(in srgb, var(--color-primary-500) 0%, transparent);
    --radio-outline-offset: 0px;
    --radio-background-color: var(--color-background);
    --radio-background-color-opacity: 100%;
    --radio-box-shadow: var(--radio-box-shadow-unchecked-base-inset-light),
      var(--radio-box-shadow-unchecked-base-inset-blur-light);
  }
}

:host([theme='Light']:not([checked]:not([checked='false'])):hover) {
  .br-radio-control {
    --radio-box-shadow: var(--radio-box-shadow-unchecked-base-inset-hover-light),
      var(--radio-box-shadow-unchecked-base-inset-blur-light);
  }
}

:host([theme='Light']:not([checked]:not([checked='false']))) {
  .br-radio-control input:focus-visible {
    --radio-box-shadow: var(--radio-box-shadow-unchecked-base-inset-focus-light),
      var(--radio-box-shadow-unchecked-base-inset-blur-light);
  }

  .br-radio-wrapper.br-radio-was-touched {
    .br-radio-control input:focus-visible:invalid {
      --radio-box-shadow: var(--radio-box-shadow-unchecked-base-inset-focus-light),
        var(--radio-box-shadow-unchecked-base-inset-blur-light);
    }
  }

  .br-radio-wrapper.br-radio-was-touched {
    .br-radio-control input:invalid {
      --radio-box-shadow: var(--radio-box-shadow-unchecked-base-inset-error-light),
        var(--radio-box-shadow-unchecked-base-inset-blur-light);
    }
  }
}

:host([theme='Light'][checked]:not([checked='false'])) {
  .br-radio-control input:focus-visible {
    --radio-outline: 2px solid color-mix(in srgb, var(--color-primary-700) 100%, transparent);
    --radio-outline-offset: -2px;
  }
}

:host([theme='Light'][checked]:not([checked='false']):hover) {
  .br-radio-control {
    --radio-background-image: linear-gradient(
      0deg,
      color-mix(in srgb, var(--color-white) 0%, transparent) 0%,
      color-mix(in srgb, var(--color-white) calc(15% * var(--template-gloss-strength)), transparent)
        100%
    );
    --radio-box-shadow: var(--radio-box-shadow-checked-base-light),
      var(--radio-box-shadow-checked-base-blur-hover-light),
      var(--radio-box-shadow-checked-base-inset-light);
  }
}

:host([theme='Light'][checked]:not([checked='false']):active) {
  .br-radio-control {
    --radio-background-color: var(--color-primary-600);
    --radio-background-image: linear-gradient(
      0deg,
      color-mix(in srgb, var(--color-white) 0%, transparent) 0%,
      color-mix(in srgb, var(--color-white) 0%, transparent) 100%
    );
    --radio-box-shadow: var(--radio-box-shadow-checked-base-negated-light),
      var(--radio-box-shadow-checked-base-blur-negated-light),
      var(--radio-box-shadow-checked-base-inset-light);
  }
}

:host([theme='Dark']) {
  slot[name='checked-icon'] {
    br-icon {
      --icon-color-1: var(--template-text-color-over-solid-primary);
      --icon-color-1-opacity: 100%;
      --icon-color-2: var(--template-text-color-over-solid-primary);
      --icon-color-2-opacity: 75%;
    }
  }

  ::slotted(br-icon[slot='checked-icon']:not([color])) {
    --icon-color-1: var(--template-text-color-over-solid-primary);
    --icon-color-1-opacity: 100%;
    --icon-color-2: var(--template-text-color-over-solid-primary);
    --icon-color-2-opacity: 75%;
  }

  ::slotted(br-icon[slot='unchecked-icon']:not([color])) {
    --icon-color-1: var(--template-text-color-over-solid-primary);
    --icon-color-1-opacity: 100%;
    --icon-color-2: var(--template-text-color-over-solid-primary);
    --icon-color-2-opacity: 75%;
  }
}

:host([theme='Dark']) {
  .br-radio-wrapper.br-radio-disabled .br-radio-content {
    .br-radio-control input {
      --radio-background-color: var(--color-white);
      --radio-background-color-opacity: 10%;
      --radio-box-shadow: var(--radio-box-shadow-disabled-negated-light),
        var(--radio-box-shadow-inset-blur-negated-light);
    }

    slot[name='checked-icon'] {
      br-icon {
        --icon-color-1: var(--color-white);
        --icon-color-1-opacity: 50%;
        --icon-color-2: var(--color-white);
        --icon-color-2-opacity: 37.5%;
      }
    }

    ::slotted(br-icon[slot='unchecked-icon']:not([color])) {
      --icon-color-1: var(--color-white);
      --icon-color-1-opacity: 50%;
      --icon-color-2: var(--color-white);
      --icon-color-2-opacity: 37.5%;
    }

    ::slotted(br-icon[slot='checked-icon']:not([color])) {
      --icon-color-1: var(--color-white);
      --icon-color-1-opacity: 50%;
      --icon-color-2: var(--color-white);
      --icon-color-2-opacity: 37.5%;
    }
  }
}

:host([theme='Dark'][checked]:not([checked='false'])) {
  .br-radio-control {
    --radio-background-image: linear-gradient(
      0deg,
      color-mix(in srgb, var(--color-white) 0%, transparent) 0%,
      color-mix(in srgb, var(--color-white) calc(5% * var(--template-gloss-strength)), transparent)
        100%
    );
    --radio-background-color: var(--color-primary-500);
    --radio-background-color-opacity: 100%;
    --radio-box-shadow: var(--radio-box-shadow-checked-base-dark),
      var(--radio-box-shadow-checked-base-blur-rest-dark),
      var(--radio-box-shadow-checked-base-outer-offset-negated-dark),
      var(--radio-box-shadow-checked-base-outer-dark);
  }
}

:host([theme='Dark']:not([checked]:not([checked='false']))) {
  .br-radio-control {
    --radio-outline: 0px solid color-mix(in srgb, var(--color-primary-500) 0%, transparent);
    --radio-outline-offset: 0px;
    --radio-background-color: var(--color-background);
    --radio-background-color-opacity: 100%;
    --radio-box-shadow: inset 0px 0px 0px 1000px
        color-mix(in srgb, var(--color-neutral-900) 15%, transparent),
      var(--radio-box-shadow-unchecked-base-inset-dark),
      var(--radio-box-shadow-unchecked-base-inset-blur-dark);
  }
}

:host([theme='Dark']:not([checked]:not([checked='false'])):hover) {
  .br-radio-control {
    --radio-box-shadow: inset 0px 0px 0px 1000px
        color-mix(in srgb, var(--color-neutral-900) 15%, transparent),
      var(--radio-box-shadow-unchecked-base-hover-inset-dark),
      var(--radio-box-shadow-unchecked-base-inset-blur-dark);
  }
}

:host([theme='Dark']:not([checked]:not([checked='false']))) {
  .br-radio-control input:focus-visible {
    --radio-box-shadow: inset 0px 0px 0px 1000px
        color-mix(in srgb, var(--color-neutral-900) 15%, transparent),
      var(--radio-box-shadow-unchecked-base-focus-inset-dark),
      var(--radio-box-shadow-unchecked-base-inset-blur-dark);
  }

  .br-radio-wrapper.br-radio-was-touched {
    .br-radio-control input:focus-visible:invalid {
      --radio-box-shadow: inset 0px 0px 0px 1000px
          color-mix(in srgb, var(--color-neutral-900) 15%, transparent),
        var(--radio-box-shadow-unchecked-base-focus-inset-dark),
        var(--radio-box-shadow-unchecked-base-inset-blur-dark);
    }
  }

  .br-radio-wrapper.br-radio-was-touched {
    .br-radio-control input:invalid {
      --radio-box-shadow: var(--radio-box-shadow-unchecked-base-error-dark),
        var(--radio-box-shadow-unchecked-base-inset-blur-dark);
    }
  }
}

:host([theme='Dark'][checked]:not([checked='false'])) {
  .br-radio-control input:focus-visible {
    --radio-outline: 2px solid color-mix(in srgb, var(--color-primary-300) 100%, transparent);
    --radio-outline-offset: -2px;
  }
}

:host([theme='Dark'][checked]:not([checked='false']):hover) {
  .br-radio-control {
    --radio-background-image: linear-gradient(
      0deg,
      color-mix(in srgb, var(--color-white) 0%, transparent) 0%,
      color-mix(in srgb, var(--color-white) calc(10% * var(--template-gloss-strength)), transparent)
        100%
    );
    --radio-box-shadow: var(--radio-box-shadow-checked-base-dark),
      var(--radio-box-shadow-checked-base-blur-rest-dark),
      var(--radio-box-shadow-checked-base-outer-offset-dark),
      var(--radio-box-shadow-checked-base-outer-dark);
  }
}

:host([theme='Dark'][checked]:not([checked='false']):active) {
  .br-radio-control {
    --radio-background-color: var(--color-primary-600);
    --radio-background-image: linear-gradient(
      0deg,
      color-mix(in srgb, var(--color-white) 0%, transparent) 0%,
      color-mix(in srgb, var(--color-white) 0%, transparent) 100%
    );
    --radio-box-shadow: var(--radio-box-shadow-checked-base-negated-dark),
      var(--radio-box-shadow-checked-base-blur-negated-dark),
      var(--radio-box-shadow-checked-base-outer-offset-negated-dark),
      var(--radio-box-shadow-checked-base-outer-dark);
  }
}
